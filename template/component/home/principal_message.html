{% load static %}
<section class="container mx-auto my-10 p-6 border border-gray-300 rounded-lg bg-white shadow-lg hover:shadow-2xl transition-shadow duration-500 group overflow-hidden">
  <div class="flex flex-col md:flex-row items-stretch gap-8">
    <!-- Left: Responsive Image (equal width, fully covers) -->
    <div class="flex-1 min-w-0 flex items-stretch">
      <div class="relative w-full h-64 md:h-auto md:min-h-[350px] lg:min-h-[400px] flex-1">
        <img src="{% static 'img/home/principal.jpg' %}" alt="Principal" class="absolute inset-0 w-full h-full object-cover rounded-xl shadow-xl border-4 border-red-100" />
      </div>
    </div>
    <!-- Right: Content (equal width) -->
    <div class="flex-1 min-w-0 flex flex-col justify-center">
      <h2 class="text-3xl md:text-4xl font-bold text-red-700 mb-2 flex items-center">
        অধ্যক্ষের বাণী

      </h2>
      <div class="h-1 w-16 bg-gradient-to-r from-red-500 to-yellow-500 rounded-full transform transition-all duration-500 group-hover:w-40 group-hover:h-1.5 mb-4"></div>
      <div x-data="{
        expanded: false,
        content: `প্রিয় শিক্ষার্থীরা,\n\nজ্ঞান অর্জনের জন্য অধ্যবসায়, সততা ও নিষ্ঠার বিকল্প নেই। তোমাদের প্রতিটি দিন হোক নতুন কিছু শেখার এবং নিজেকে গড়ে তোলার।তোমাদের প্রতিটি দিন হোক নতুন কিছু শেখার এবং নিজেকে গড়ে তোলার। আমাদের প্রতিষ্ঠান তোমাদের স্বপ্নপূরণের সহযাত্রী।\n\nশিক্ষা শুধু ডিগ্রি নয়, এটি মানবিক মূল্যবোধ,   আমাদের প্রতিষ্ঠান তোমাদের স্বপ্নপূরণের সহযাত্রী।\n\nশিক্ষা শুধু ডিগ্রি নয়, এটি মানবিক মূল্যবোধ,  তোমাদের প্রতিটি দিন হোক নতুন কিছু শেখার এবং নিজেকে গড়ে তোলার। আমাদের প্রতিষ্ঠান তোমাদের স্বপ্নপূরণের সহযাত্রী।\n\nশিক্ষা শুধু ডিগ্রি নয়, এটি মানবিক মূল্যবোধ, নৈতিকতা ও নেতৃত্বের শিক্ষা। তোমরা দেশ ও জাতির গর্ব হয়ে উঠো, এই কামনা করি।\n\nধন্যবাদ।\n\n- অধ্যক্ষ (ডামি নাম) প্রিয় শিক্ষার্থীরা,\n\nজ্ঞান অর্জনের জন্য অধ্যবসায়, সততা ও নিষ্ঠার বিকল্প নেই। তোমাদের প্রতিটি দিন হোক নতুন কিছু শেখার এবং নিজেকে গড়ে তোলার। আমাদের প্রতিষ্ঠান তোমাদের স্বপ্নপূরণের সহযাত্রী।\n\nশিক্ষা শুধু ডিগ্রি নয়, এটি মানবিক মূল্যবোধ, নৈতিকতা ও নেতৃত্বের শিক্ষা। তোমরা দেশ ও জাতির গর্ব হয়ে উঠো, এই কামনা করি।\n\nধন্যবাদ।\n\n- অধ্যক্ষ (ডামি নাম)`,
        wordLimit: 100,
        get shortText() {
          const words = this.content.split(/\s+/);
          return words.slice(0, this.wordLimit).join(' ') + (words.length > this.wordLimit ? '...' : '');
        },
        animating: false,
        setHeight(el, toExpand) {
          this.animating = true;
          if (toExpand) {
            el.style.height = el.scrollHeight + 'px';
          } else {
            el.style.height = el.scrollHeight + 'px';
            requestAnimationFrame(() => {
              el.style.height = '0px';
            });
          }
        },
        afterTransition(el) {
          this.animating = false;
          if (this.expanded) {
            el.style.height = 'auto';
          }
        }
      }" class="mt-2 text-gray-700 text-lg leading-relaxed relative">
        <div class="overflow-hidden transition-all duration-500" x-ref="contentWrap"
          :style="expanded ? 'height:auto' : 'height:0px'"
          @transitionend="afterTransition($refs.contentWrap)">
          <template x-if="expanded">
            <div class="py-2">
              <span x-text="content"></span>
              <button @click="
                expanded = false;
                $nextTick(() => setHeight($refs.contentWrap, false));
              " class="mt-4 ml-2 text-red-600 hover:underline font-semibold transition block">সংক্ষিপ্ত করুন</button>
            </div>
          </template>
        </div>
        <template x-if="!expanded">
          <div>
            <span x-text="shortText"></span>
            <button @click="
              expanded = true;
              $nextTick(() => setHeight($refs.contentWrap, true));
            " class="mt-4 ml-2 text-blue-600 hover:underline font-semibold transition">বিস্তারিত দেখুন</button>
          </div>
        </template>
      </div>
    </div>
  </div>
</section>
<!-- Alpine.js for interactivity -->
<script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script> 